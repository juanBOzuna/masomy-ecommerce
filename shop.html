<!DOCTYPE html>
<html lang="en">

<head>
    <title>Masomy</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="apple-touch-icon" href="assets/img/apple-icon.png">
    <link rel="shortcut icon" type="image/x-icon" href="assets/img/icono_de_masomy.jpg">

    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/css/templatemo.css">
    <link rel="stylesheet" href="assets/css/custom.css">

    <!-- Load fonts style after rendering the layout styles -->
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;700;900&display=swap">
    <link rel="stylesheet" href="assets/css/fontawesome.min.css">
    <!--
    


-->
</head>

<body>

    <div class="modal fade" id="ratingModal" tabindex="-1" role="dialog" aria-labelledby="ratingModalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="ratingModalLabel">Calificar </h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="modal-body-calificar">
                    <input type="hidden" name="product_id" id="product_id_modal_calificar">
                    <p>Selecciona tu calificación:</p>
                    <!-- Modifica el HTML de las estrellas directamente en el modal -->
                    <div id="ratingStars" class="rating-stars">
                        <i class="text-muted fa fa-star" data-rating="1" onmouseover="handleStarHover(this)"
                            onclick="handleStarClick(this)"></i>
                        <i class="text-muted fa fa-star" data-rating="2" onmouseover="handleStarHover(this)"
                            onclick="handleStarClick(this)"></i>
                        <i class="text-muted fa fa-star" data-rating="3" onmouseover="handleStarHover(this)"
                            onclick="handleStarClick(this)"></i>
                        <i class="text-muted fa fa-star" data-rating="4" onmouseover="handleStarHover(this)"
                            onclick="handleStarClick(this)"></i>
                        <i class="text-muted fa fa-star" data-rating="5" onmouseover="handleStarHover(this)"
                            onclick="handleStarClick(this)"></i>
                    </div>
                    <div class="mb-3">
                        <textarea class="form-control mt-1" id="message" name="message" placeholder="Mensaje" rows="8"
                            required></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button> -->
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>

                    <div id="loadingSpinner" class="text-center d-none">
                        <div class="spinner-border" role="status">
                            <span class="sr-only">Cargando...</span>
                        </div>
                    </div>
                    <button type="button" class="btn btn-primary" id="enviarCalificacionBtn">Enviar
                        Calificación</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Start Top Nav -->
    <top-header-custom></top-header-custom>
    <!-- Close Top Nav -->

    <!-- Header -->
    <header-custom></header-custom>
    <!-- Close Header -->

    <!-- Modal -->
    <search-modal></search-modal>




    <!-- Start Content -->
    <div class="container py-5">
        <div class="row">

            <!-- <div class="col-lg-3">
                <h1 class="h2 pb-4">Categories</h1>
                <div id="accordion" class="list-unstyled templatemo-accordion"></div>
            </div> -->

            <div class="col-lg-3">
                <h1 class="h2 pb-4">Categories</h1>
                <ul class="list-unstyled templatemo-accordion" id="accordion">
                    <!-- Categorías se agregarán dinámicamente aquí -->
                </ul>
            </div>

            <div class="col-lg-9">


                <div class="row" id="productsContainer">

                </div>
            </div>

        </div>

        <!-- <button class="btn btn-primary" id="openRatingModalBtn">
            Calificar Producto
        </button> -->
    </div>
    <!-- End Content -->
    <!-- Start Footer -->
    <footer-custom></footer-custom>
    <!-- End Footer -->

    <!-- Start Script -->
    <!-- <script src="assets/js/jquery-1.11.0.min.js"></script>
    <script src="assets/js/jquery-migrate-1.2.1.min.js"></script> -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <script src="assets/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/templatemo.js"></script>
    <script src="assets/js/shop.js" type="module"></script>

    <script src="assets/js/components/HeaderCustom.js" type="module"></script>
    <script src="assets/js/components/FooterCustom.js" type="module"></script>

    <script src="assets/js/components/SearchModal.js" type="module"></script>
    <script src="assets/js/components/TopHeader.js" type="module"></script>


    <script>
        function handleStarHover(star) {
            var hoveredRating = star.getAttribute('data-rating');
            var stars = star.parentElement.children;

            for (let i = 0; i < stars.length; i++) {
                if (i < hoveredRating) {
                    stars[i].className = 'text-warning fa fa-star';
                } else {
                    stars[i].className = 'text-muted fa fa-star';
                }
            }
        }

        function handleStarClick(star) {
            var clickedRating = star.getAttribute('data-rating');
            var stars = star.parentElement.children;

            // Actualiza todas las estrellas con la calificación seleccionada
            for (let i = 0; i < stars.length; i++) {
                if (i < clickedRating) {
                    stars[i].className = 'text-warning fa fa-star';
                } else {
                    stars[i].className = 'text-muted fa fa-star';
                }
            }
        }
    </script>
    <!-- End Script -->
</body>

</html>